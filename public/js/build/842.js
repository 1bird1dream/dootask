"use strict";(self.webpackChunkDooTask=self.webpackChunkDooTask||[]).push([[842],{80842:(t,a,e)=>{e.r(a),e.d(a,{default:()=>n});function o(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,o)}return e}function r(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?o(Object(e),!0).forEach((function(a){s(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function s(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const i={data:function(){return{loadIng:0,formDatum:{}}},mounted:function(){this.systemSetting()},methods:{submitForm:function(){var t=this;this.$refs.formDatum.validate((function(a){a&&t.systemSetting(!0)}))},resetForm:function(){this.formDatum=$A.cloneJSON(this.formDatum_bak)},formArchived:function(t){this.formDatum=r(r({},this.formDatum),{},{auto_archived:t})},systemSetting:function(t){var a=this;this.loadIng++,this.$store.dispatch("call",{url:"system/setting?type="+(t?"save":"all"),data:this.formDatum}).then((function(e){var o=e.data;t&&$A.messageSuccess("修改成功"),a.loadIng--,a.formDatum=o,a.formDatum_bak=$A.cloneJSON(a.formDatum)})).catch((function(e){var o=e.msg;t&&$A.modalError(o),a.loadIng--}))}}};const n=(0,e(51900).Z)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"setting-item submit"},[e("Form",{ref:"formDatum",attrs:{model:t.formDatum,"label-width":"auto"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("FormItem",{attrs:{label:t.$L("允许注册"),prop:"reg"}},[e("RadioGroup",{model:{value:t.formDatum.reg,callback:function(a){t.$set(t.formDatum,"reg",a)},expression:"formDatum.reg"}},[e("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("允许")))]),t._v(" "),e("Radio",{attrs:{label:"invite"}},[t._v(t._s(t.$L("邀请码")))]),t._v(" "),e("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("禁止")))])],1),t._v(" "),"open"==t.formDatum.reg?e("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("允许：开放注册功能。")))]):"invite"==t.formDatum.reg?[e("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("邀请码：注册时需填写下方邀请码。")))]),t._v(" "),e("Input",{staticStyle:{width:"200px","margin-top":"6px"},model:{value:t.formDatum.reg_invite,callback:function(a){t.$set(t.formDatum,"reg_invite",a)},expression:"formDatum.reg_invite"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v(t._s(t.$L("邀请码")))])])]:t._e()],2),t._v(" "),e("FormItem",{attrs:{label:t.$L("登录验证码"),prop:"loginCode"}},[e("RadioGroup",{model:{value:t.formDatum.login_code,callback:function(a){t.$set(t.formDatum,"login_code",a)},expression:"formDatum.login_code"}},[e("Radio",{attrs:{label:"auto"}},[t._v(t._s(t.$L("自动")))]),t._v(" "),e("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("开启")))]),t._v(" "),e("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("关闭")))])],1),t._v(" "),"auto"==t.formDatum.login_code?e("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("自动：密码输入错误后必须添加验证码。")))]):t._e()],1),t._v(" "),e("FormItem",{attrs:{label:t.$L("密码策略"),prop:"passwordPolicy"}},[e("RadioGroup",{model:{value:t.formDatum.password_policy,callback:function(a){t.$set(t.formDatum,"password_policy",a)},expression:"formDatum.password_policy"}},[e("Radio",{attrs:{label:"simple"}},[t._v(t._s(t.$L("简单")))]),t._v(" "),e("Radio",{attrs:{label:"complex"}},[t._v(t._s(t.$L("复杂")))])],1),t._v(" "),"simple"==t.formDatum.password_policy?e("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("简单：大于或等于6个字符。")))]):"complex"==t.formDatum.password_policy?e("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("复杂：大于或等于6个字符，包含数字、字母大小写或者特殊字符。")))]):t._e()],1),t._v(" "),e("FormItem",{attrs:{label:t.$L("邀请项目"),prop:"projectInvite"}},[e("RadioGroup",{model:{value:t.formDatum.project_invite,callback:function(a){t.$set(t.formDatum,"project_invite",a)},expression:"formDatum.project_invite"}},[e("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("开启")))]),t._v(" "),e("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("关闭")))])],1),t._v(" "),"open"==t.formDatum.project_invite?e("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("开启：项目管理员可生成链接邀请成员加入项目。")))]):t._e()],1),t._v(" "),e("FormItem",{attrs:{label:t.$L("聊天昵称"),prop:"chatNickname"}},[e("RadioGroup",{model:{value:t.formDatum.chat_nickname,callback:function(a){t.$set(t.formDatum,"chat_nickname",a)},expression:"formDatum.chat_nickname"}},[e("Radio",{attrs:{label:"optional"}},[t._v(t._s(t.$L("可选")))]),t._v(" "),e("Radio",{attrs:{label:"required"}},[t._v(t._s(t.$L("必填")))])],1),t._v(" "),"required"==t.formDatum.chat_nickname?e("div",{staticClass:"form-tip"},[t._v(t._s(t.$L("必填：发送聊天内容前必须设置昵称。")))]):t._e()],1),t._v(" "),e("FormItem",{attrs:{label:t.$L("自动归档任务"),prop:"autoArchived"}},[e("RadioGroup",{attrs:{value:t.formDatum.auto_archived},on:{"on-change":t.formArchived}},[e("Radio",{attrs:{label:"open"}},[t._v(t._s(t.$L("开启")))]),t._v(" "),e("Radio",{attrs:{label:"close"}},[t._v(t._s(t.$L("关闭")))])],1),t._v(" "),"open"==t.formDatum.auto_archived?e("Tooltip",{staticClass:"setting-auto-day",attrs:{placement:"right"}},[e("Input",{attrs:{type:"number"},model:{value:t.formDatum.archived_day,callback:function(a){t.$set(t.formDatum,"archived_day",a)},expression:"formDatum.archived_day"}},[e("span",{attrs:{slot:"append"},slot:"append"},[t._v(t._s(t.$L("天")))])]),t._v(" "),e("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$L("任务完成 % 天后自动归档。",t.formDatum.archived_day)))])],1):t._e()],1)],1),t._v(" "),e("div",{staticClass:"setting-footer"},[e("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("提交")))]),t._v(" "),e("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("重置")))])],1)],1)}),[],!1,null,null,null).exports}}]);